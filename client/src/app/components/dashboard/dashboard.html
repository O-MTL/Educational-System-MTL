<div class="dashboard-container">
  <!-- Toolbar -->
  <mat-toolbar color="primary" class="dashboard-toolbar">
    <mat-icon>school</mat-icon>
    <span class="toolbar-title">Plataforma Educativa</span>

    <span class="spacer"></span>

    <div class="user-info">
      <span class="user-name">{{ currentUser?.username }}</span>
      <span class="user-role">{{ currentUser?.rol }}</span>
    </div>

    <button mat-icon-button [matMenuTriggerFor]="userMenu">
      <mat-icon>account_circle</mat-icon>
    </button>

    <mat-menu #userMenu="matMenu">
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Cerrar Sesión</span>
      </button>
    </mat-menu>
  </mat-toolbar>

  <!-- Dashboard Content -->
  <div class="dashboard-content">
    <div class="welcome-section">
      <h1>{{ getDashboardTitle() }}</h1>
      <p>{{ getDashboardSubtitle() }}</p>
    </div>

    <!-- Dashboard Cards -->
    <div class="cards-section">
      <h2>Accesos Rápidos</h2>
      <mat-grid-list cols="4" rowHeight="200px" gutterSize="16px" class="dashboard-grid">
        <mat-grid-tile *ngFor="let card of dashboardCards" class="dashboard-tile">
          <mat-card class="dashboard-card" [class]="'card-' + card.color" (click)="navigateTo(card.route)">
            <mat-card-content class="card-content">
              <div class="card-icon">
                <mat-icon [class]="'icon-' + card.color">{{ card.icon }}</mat-icon>
              </div>
              <h3 class="card-title">{{ card.title }}</h3>
              <p class="card-description">{{ card.description }}</p>
            </mat-card-content>
          </mat-card>
        </mat-grid-tile>
      </mat-grid-list>
    </div>

    <!-- Quick Stats -->
    <div class="stats-section">
      <h2>Información Rápida</h2>
      <div class="stats-grid">
        <mat-card *ngFor="let stat of quickStats" class="stat-card">
          <mat-card-content>
            <div class="stat-icon">
              <mat-icon [class]="'icon-' + stat.color">{{ stat.icon }}</mat-icon>
            </div>
            <div class="stat-number">{{ stat.value }}</div>
            <div class="stat-label">{{ stat.label }}</div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <!-- Role Specific Functions -->
    <div class="functions-section">
      <h2>Funciones Específicas</h2>
      <div class="functions-grid">
        <mat-card *ngFor="let function of getRoleSpecificFunctions()" class="function-card" (click)="function.action()">
          <mat-card-content>
            <h3 class="function-title">{{ function.title }}</h3>
            <p class="function-description">{{ function.description }}</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <!-- Recent Activities -->
    <div class="activities-section">
      <h2>Actividad Reciente</h2>
      <mat-card class="activities-card">
        <mat-card-content>
          <div *ngFor="let activity of recentActivities" class="activity-item">
            <mat-icon class="activity-icon">{{ activity.icon }}</mat-icon>
            <div class="activity-content">
              <div class="activity-action">{{ activity.action }}</div>
              <div class="activity-time">{{ activity.time }}</div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
